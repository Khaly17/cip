@model Gefco.CipQuai.Web.Models.UserAgenceRole

@{
    Layout = null;
}

@using (Html.BeginForm("AddUserAgenceRole", "UserRoles"))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(p => p.AgenceRole_Id)
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Ajouter un utilisateur</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="form-horizontal">
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <div class="form-group">
                            @Html.LabelFor(model => model.Agence_Id, "Agence", htmlAttributes: new { @class = "control-label " })
                            <div class="col-md-12">
                                @Html.DropDownList("Agence_Id", null, htmlAttributes: new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.Agence_Id, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.User_Id, "Utilisateur", htmlAttributes: new { @class = "control-label" })
                            <div class="col-md-12">
                                @Html.DropDownList("User_Id", null, htmlAttributes: new { @class = "form-control" })
                                @Html.ValidationMessageFor(model => model.User_Id, "", new { @class = "text-danger" })
                            </div>
                        </div>


                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="e-btn e-danger" data-dismiss="modal">Annuler</button>
                    <button type="button" class="e-btn e-primary" onclick="dismissMe()">Ajouter</button>
                </div>

            </div>
        </div>
    </div>
    <script>
        function dismissMe() {
            $.post($("#myModal").parent("form").attr("action"), $("#myModal").parent("form").serialize(), function(res) {
                var grid = document.getElementById("Grid").ej2_instances[0];
                grid.refresh(); // refresh the Grid.
                $("#myModal").modal("hide");
            });
            return false;
        }
    </script>
}
